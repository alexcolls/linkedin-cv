# Output Directory Structure

## Overview

All generated files are organized in user-specific directories under the `output/` folder.

## Directory Structure

```
output/
└── <linkedin-username>/
    ├── profile_data.json           # JSON export (option 2)
    ├── username_YYYYMMDD_HHMMSS.pdf # Generated CVs (option 1)
    └── html/                       # HTML files (option 3 only)
        ├── profile.html
        ├── experience.html
        └── ... (other sections)
```

## Examples

For a LinkedIn profile URL: `https://www.linkedin.com/in/alex-colls-outumuro/`

The output structure will be:
```
output/
└── alex-colls-outumuro/
    ├── profile_data.json                  # From option 2
    ├── alex-colls-outumuro_20241012_141530.pdf  # From option 1
    ├── alex-colls-outumuro_20241015_093021.pdf  # Multiple PDFs possible
    └── html/                              # From option 3
        ├── profile.html
        ├── experience.html
        └── ... (10 files total)
```

## File Naming Conventions

### JSON Export
- **Location**: `output/<username>/profile_data.json`
- **Name**: Always `profile_data.json` (overwrites on each export)
- **Content**: Complete LinkedIn profile data in JSON format

### PDF CVs
- **Location**: `output/<username>/<username>_<timestamp>.pdf`
- **Format**: `<username>_YYYYMMDD_HHMMSS.pdf`
- **Example**: `alex-colls_20241012_141530.pdf`
- **Note**: Each generation creates a new PDF with unique timestamp
- **Generated by**: Option 1 (Generate CV PDF)

### HTML Files (Advanced)
- **Location**: `output/<username>/html/`
- **Files**: 10+ HTML files (profile, experience, education, skills, etc.)
- **Generated by**: Option 3 (Extract HTML)
- **Cleanup**: Automatically removed by option 2 after JSON extraction

## Username Extraction

The username is automatically extracted from:
1. LinkedIn URL: `https://www.linkedin.com/in/username/` → `username`
2. Direct username input: `john-doe` → `john-doe`
3. Profile data if available
4. Fallback: `linkedin-profile` (if extraction fails)

## Benefits

1. **Organization**: Each LinkedIn profile has its own directory
2. **History**: Multiple CV versions are preserved with timestamps
3. **Clean**: No file conflicts between different profiles
4. **Easy Access**: Find all files for a user in one place

## Usage Examples

### Generate PDF CV (Recommended)
```bash
# Via menu
./run.sh
# Select option 1: Generate CV PDF
# Enter: alex-colls-outumuro
# Output: output/alex-colls-outumuro/alex-colls-outumuro_20241012_141530.pdf

# Via CLI
./run.sh alex-colls-outumuro
```

### Extract JSON Data
```bash
# Via menu
./run.sh
# Select option 2: Extract JSON data
# Enter: alex-colls-outumuro
# Output: output/alex-colls-outumuro/profile_data.json
# Note: HTML files are removed after JSON extraction

# Via CLI
./run.sh alex-colls-outumuro --json
```

### Extract HTML Files (Advanced)
```bash
# Via menu
./run.sh
# Select option 3: Extract HTML from profile
# Enter: alex-colls-outumuro
# Output: output/alex-colls-outumuro/html/*.html (10+ files)

# Via CLI
poetry run python -m src.cli alex-colls-outumuro --extract-html
```

## Accessing Files

### View JSON data
```bash
# Pretty print with jq
jq . output/alex-colls-outumuro/profile_data.json

# Quick view
cat output/alex-colls-outumuro/profile_data.json
```

### List all CVs for a user
```bash
ls -la output/alex-colls-outumuro/*.pdf
```

### Find latest CV
```bash
ls -t output/alex-colls-outumuro/alex-colls-outumuro_*.pdf | head -1
```

## Notes

- The `profile_data.json` is overwritten on each export (option 2)
- PDF files are never overwritten (unique timestamps in filename)
- HTML files are automatically cleaned up by option 2 after JSON extraction
- HTML files are kept by option 3 for debugging/inspection
- Directories are created automatically
